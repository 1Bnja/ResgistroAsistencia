# ==========================================
# CONFIGURACIÓN DEL PROYECTO
# Sistema de Control de Asistencia con Reconocimiento Facial
# ==========================================

# --- Base de Datos MongoDB Atlas (Cloud) ---
MONGODB_URI=mongodb+srv://usuario:password@cluster.mongodb.net/asistencia_db
# URI opcional de lectura (si se usa replica set)
MONGODB_READ_URI=mongodb+srv://usuario:password@cluster.mongodb.net/asistencia_db

# --- Autenticación JWT ---
JWT_SECRET=changeme_jwt_secret_key_super_seguro
JWT_EXPIRE=24h

# --- API Backend ---
NODE_ENV=production
PORT=3000
CORS_ORIGIN=http://localhost

# URLs de servicios internos
AI_SERVICE_URL=http://api-ia:5000
WEBSOCKET_SERVICE_URL=http://websocket-service:3001
NOTIFICATION_SERVICE_URL=http://asistencia-notification-service:3003

# --- Frontend ---
FRONTEND_PORT=80
VITE_API_URL=http://localhost:8080/api
VITE_WS_URL=ws://localhost:3001

# --- Terminal de Marcaje ---
TERMINAL_PORT=8081
VITE_API_URL=http://localhost:8080/api
VITE_WS_URL=ws://localhost:3001

# --- AI Service (Reconocimiento Facial) ---
AI_SERVICE_PORT=5000
AI_MODEL_PATH=/app/trained_models/face_recognition_model.pkl
BACKEND_URL=http://api-backend:3000/api

# --- WebSocket Service ---
WEBSOCKET_PORT=3001

# --- Notification Service ---
NOTIFICATION_PORT=3003
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
ADMIN_EMAIL=admin@yourdomain.com
FROM_EMAIL=Sistema de Asistencia <noreply@yourdomain.com>
FROM_NAME=Sistema de Asistencia

# --- Export Service ---
EXPORT_PORT=3004

# --- HAProxy API Gateway ---
HAPROXY_STATS_PORT=8404
HAPROXY_STATS_USER=admin
HAPROXY_STATS_PASSWORD=changeme

# --- Monitoring (Prometheus + Grafana) ---
PROMETHEUS_PORT=9090
GRAFANA_PORT=3002
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=changeme

# --- Backup Service ---
RETENTION_DAYS=7
# Los backups se ejecutan automáticamente a las 2:00 AM diariamente

# --- Configuración de la Aplicación ---
APP_NAME=Sistema de Control de Asistencia con Reconocimiento Facial
UNIVERSITY_NAME=Universidad de Talca
DEPARTMENT_NAME=Administración de Redes

# --- Logging ---
LOG_LEVEL=info

# --- URLs y Enlaces ---
FRONTEND_URL=http://localhost
DASHBOARD_URL=http://localhost/dashboard

# --- Configuración de Tolerancias (en minutos) ---
TOLERANCIA_ANTICIPADO_MINUTOS=30
TOLERANCIA_PUNTUAL_ANTES_MINUTOS=10
TOLERANCIA_PUNTUAL_DESPUES_MINUTOS=15
LIMITE_AUSENCIA_MINUTOS=60
LIMITE_ATRASO_MINUTOS=30

# ==========================================
# NOTAS IMPORTANTES
# ==========================================
# 
# 1. MongoDB Atlas:
#    - Este proyecto usa MongoDB Atlas (cloud) NO MongoDB local
#    - Las carpetas volumes/mongodb-* NO se usan
#    - Obtén tu URI desde: https://cloud.mongodb.com
#
# 2. Redis Cache:
#    - ELIMINADO del proyecto (causaba problemas)
#    - No configurar variables REDIS_*
#
# 3. SMTP:
#    - Usar App Password de Gmail (no la contraseña normal)
#    - Generar en: https://myaccount.google.com/apppasswords
#
# 4. Logs:
#    - Todos los logs se centralizan en volumes/logs/
#
# 5. Backups:
#    - Automáticos diarios a las 2:00 AM
#    - Retención configurable (default: 7 días)
#    - Almacenados en volumes/backups/
#